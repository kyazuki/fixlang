Updates an array by setting a value as the element at the specified index.

This function clones the given array if it is shared.